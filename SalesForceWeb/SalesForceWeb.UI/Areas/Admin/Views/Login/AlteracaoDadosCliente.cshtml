
@{
    ViewBag.Title = "Alteração dados cliente";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";

    
}

@model IEnumerable<SalesForceWeb.Domain.Entities.Usuario>
<script src="~/Areas/Admin/Content/js/angular/angular.min.js"></script>
<script src="~/Areas/Admin/Content/js/angular/login_service.js"></script>

<script language="javascript">
    $("body").removeAttr('id', 'login-bg');
</script>
<div id="page-top-outer">
    <div id="page-top">
        <div id="logo">
            <a href=""><img src="~/Areas/Admin/Content/images/shared/logo.png" width="156" height="40" alt="" /></a>
        </div>
        <div id="top-search">

        </div>
        <div class="clear"></div>

    </div>

</div>

<div class="clear">&nbsp;</div>
<div class="nav-outer-repeat">
    <div class="nav-outer">
        <div id="nav-right">

            <div class="nav-divider">&nbsp;</div>
            <div class="showhide-account"><img src="~/Areas/Admin/Content/images/shared/nav/nav_myaccount.gif" width="93" height="14" alt="" /></div>
            <div class="nav-divider">&nbsp;</div>
            <a href="" id="logout"><img src="~/Areas/Admin/Content/images/shared/nav/nav_logout.gif" width="64" height="14" alt="" /></a>
            <div class="clear">&nbsp;</div>

            <div class="account-content">
                <div class="account-drop-inner">
                    <a href="/Admin/Login/AlteracaoDadosCliente" id="acc-settings">Minha Conta</a>
                </div>
            </div>
        </div>
        <div class="nav">
            <div class="table">

                <ul class="select"></ul>

                <div class="nav-divider">&nbsp;</div>


                <div class="nav-divider">&nbsp;</div>


                <div class="nav-divider">&nbsp;</div>


                <div class="nav-divider">&nbsp;</div>


                <div class="clear"></div>
            </div>
            <div class="clear"></div>
        </div>
    </div>
    <div class="clear"></div>
</div>

<div class="clear"></div>

<div id="content-outer">
    <div id="content">

        <div id="page-heading">
            <h1>Alterar Dados Cadastrado</h1>
        </div>

        <table border="0" width="100%" cellpadding="0" cellspacing="0" id="content-table">
            <tr>
                <th rowspan="3" class="sized"><img src="~/Areas/Admin/Content/images/shared/side_shadowleft.jpg" width="20" height="300" alt="" /></th>
                <th class="topleft"></th>
                <td id="tbl-border-top">&nbsp;</td>
                <th class="topright"></th>
                <th rowspan="3" class="sized"><img src="~/Areas/Admin/Content/images/shared/side_shadowright.jpg" width="20" height="300" alt="" /></th>
            </tr>
            <tr>
                <td id="tbl-border-left"></td>
                <td>
                    <div id="content-table-inner">

                        <div id="table-content">

                            <div id="message-yellow">
                                <table border="0" width="100%" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td class="yellow-left">You have a new message. <a href="">Go to Inbox.</a></td>
                                        <td class="yellow-right"><a class="close-yellow"><img src="~/Areas/Admin/Content/images/table/icon_close_yellow.gif" alt="" /></a></td>
                                    </tr>
                                </table>
                            </div>
                            <div id="message-red">
                                <table border="0" width="100%" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td class="red-left">Error. <a href="">Please try again.</a></td>
                                        <td class="red-right"><a class="close-red"><img src="~/Areas/Admin/Content/images/table/icon_close_red.gif" alt="" /></a></td>
                                    </tr>
                                </table>
                            </div>
                            <div id="message-blue">
                                <table border="0" width="100%" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td class="blue-left">Welcome back. <a href="">View my account.</a> </td>
                                        <td class="blue-right"><a class="close-blue"><img src="~/Areas/Admin/Content/images/table/icon_close_blue.gif" alt="" /></a></td>
                                    </tr>
                                </table>
                            </div>
                            <div id="message-green">
                                <table border="0" width="100%" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td class="green-left">Product added sucessfully. <a href="">Add new one.</a></td>
                                        <td class="green-right"><a class="close-green"><img src="~/Areas/Admin/Content/images/table/icon_close_green.gif" alt="" /></a></td>
                                    </tr>
                                </table>
                            </div>
                            <!-- fazer o formulario do usuario  -->
                            @using (Html.BeginForm("", "", FormMethod.Post, new { @id = "FormAltUsuario", ng_app = "myapp", ng_controller = "logincontroller" }))
                            {
                                @Html.AntiForgeryToken()
                                <table cellspacing="0" cellpadding="0" width="50%" style="margin:0 auto;" id="product-table">
                                   <!--fazer foreach nos dados vindo do banco-->
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>Nome</td>
                                            <td><input type="text" name="nome_alteracao" id="nome_alteracao" value="@item.Nome" ng-model="formusuario.nome" required="required" /></td>
                                        </tr>
                                        <tr>
                                            <td>SobreNome</td>
                                            <td><input type="text" name="sobrenome_altearacao" id="sobrenome_alteracao" ng-model="formusuario.sobrenome" value="@item.SobreNome" required="required" /></td>
                                        </tr>
                                        <tr>
                                            <td>Sexo</td> <!-- falta colocar o sexo vindo do angular-->
                                            <td>
                                                <select name="sexoid" id="sexoid" ng-model="formusuario.sexo">
                                                    <option ng-repeat="tipos in listaSexo" value="{{tipos.id}}">{{tipos.name}}</option>
                                                </select>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Idade</td>
                                            <td><input type="text" name="idade_alteracao" id="idade_alteracao" ng-model="formusuario.idade" required="required" value="@item.Idade" /></td>
                                        </tr>
                                        <tr>
                                            <td>Email</td>
                                            <td>         
                                                <input type="text" name="email" id="email" ng-model="formusuario.email.endereco" value="@ViewBag.semail" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Usuario</td>
                                            <td><input type="text" name="login_alteracao" id="login_alteracao" ng-model="formusuario.login" required="required" value="@item.Login" /></td>
                                        </tr>
                                        <tr>
                                            <td>Senha</td>
                                            <td><input type="text" name="senha_alteracao" id="senha_alteracao" ng-model="formusuario.login" required="required" value="@item.Senha" /></td>
                                        </tr>
                                    }

                                    <tr>
                                        <td colspan="2">
                                            <input type="button" ng-click="Limpar()" value="Limpar" />&nbsp;&nbsp;
                                            <input type="button" value="Enviar" ng-click="AlterarUsuario()" ng-disabled="FormAltUsuario.$invalid" /></td>
                                    </tr>
                                    
                                </table>
                            }
                        </div>

                        <div class="clear"></div>

                    </div>
                </td>
                <td id="tbl-border-right"></td>
            </tr>
            <tr>
                <th class="sized bottomleft"></th>
                <td id="tbl-border-bottom">&nbsp;</td>
                <th class="sized bottomright"></th>
            </tr>
        </table>

        <div class="clear">&nbsp;</div>

    </div>
    <div class="clear">&nbsp;</div>
</div>

<div class="clear">&nbsp;</div>

<div id="footer">
    <div id="footer-left">
        @DateTime.Now.ToString("dd/MM/yyyy")
    </div>
    <div class="clear">&nbsp;</div>
</div>






